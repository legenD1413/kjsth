# 迈格库静态新闻系统

## 系统概述

迈格库静态新闻系统是一个高性能的新闻展示解决方案，通过将动态新闻内容转换为静态HTML文件，提高了页面加载速度、降低了服务器负载，并提升了搜索引擎优化(SEO)效果。系统支持按地区分类展示新闻，并包含多种展示组件，如新闻列表页、新闻详情页和侧边栏新闻组件等。

## 文件结构

```
static-news/
├── north-america/       # 北美地区新闻目录
│   ├── index.html       # 北美地区新闻列表
│   ├── 1.html           # 北美地区新闻文章1
│   ├── 6.html           # 北美地区新闻文章6
│   └── ...              # 其他新闻文章
├── middle-east/         # 中东地区新闻目录
│   └── index.html       # 中东地区新闻列表（暂无新闻）
├── europe/              # 欧洲地区新闻目录
├── asia-pacific/        # 亚太地区新闻目录
├── tools/               # 工具脚本目录
│   ├── news-template.html         # 新闻详情页模板
│   ├── generate-static-news.js    # 生成静态新闻页面脚本
│   └── update-news-index.js       # 更新新闻索引页脚本
└── README.md            # 本文档
```

## 主要功能

1. **静态新闻生成**：从CMS API获取新闻数据，生成静态HTML文件
2. **新闻索引更新**：自动扫描静态新闻文件，生成各地区新闻列表页
3. **新闻详情页**：展示新闻全文内容，支持重要性标记和返回列表功能
4. **组件集成**：
   - 新闻列表页：支持按国家/地区筛选和按时间/重要性排序
   - 侧边栏新闻组件：在网站各页面展示最新新闻预览
   - 全球新闻中心：汇总展示各地区最新新闻

## 使用指南

### 生成新的静态新闻

要从CMS API获取新闻并生成静态HTML页面，请运行：

```bash
node tools/generate-static-news.js
```

该脚本将：
1. 从API获取最新的新闻数据
2. 根据news-template.html模板生成静态HTML文件
3. 将文件保存到对应地区目录下

### 更新新闻索引页

生成或修改新闻文件后，需要更新索引页：

```bash
node tools/update-news-index.js
```

该脚本将：
1. 扫描各地区目录下的静态新闻文件
2. 提取每篇新闻的元数据（标题、日期、摘要等）
3. 生成各地区的index.html文件，按时间倒序排列新闻
4. 更新全球新闻中心页面

### 在网站中集成静态新闻

系统提供了三种主要的展示方式：

1. **新闻列表页**：完整展示某一地区的所有新闻
   - 路径：`news/[region].html`
   - 示例：`news/north-america.html`

2. **侧边栏新闻组件**：在网站侧边栏展示最新新闻预览
   ```javascript
   // 引入侧边栏新闻组件脚本
   <script src="assets/js/sidebar-news.js"></script>
   
   // 初始化组件
   SidebarNews.init('north-america', 'sidebar-container-id', '北美物流资讯', 3);
   ```

3. **新闻中心首页**：汇总展示各地区最新新闻
   - 路径：`news/index.html`

## 前端脚本

系统包含以下前端脚本：

1. **static-news-loader.js**：加载静态新闻到网站页面
2. **sidebar-news.js**：侧边栏新闻组件加载器

## 注意事项

1. 确保Node.js环境正确安装
2. 定期运行更新脚本，保持内容最新
3. 修改模板文件后需要重新生成所有静态页面
4. 生成的静态页面不包含用户交互功能，如评论等

## 性能优势

相比动态加载新闻内容，静态新闻系统具有以下优势：

1. 更快的页面加载速度
2. 降低服务器负载
3. 更好的SEO表现
4. 无需依赖后端API即可访问内容
5. 更高的可靠性和可用性 